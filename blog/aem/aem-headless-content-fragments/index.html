<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta http-equiv="X-Frame-Options" content="DENY">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://static.cloudflareinsights.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src * data: https://raw.githubusercontent.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://www.google-analytics.com https://analytics.google.com https://www.googletagmanager.com https://region1.google-analytics.com https://script.google.com https://cloudflareinsights.com;">
<meta name="referrer" content="strict-origin-when-cross-origin">
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9VH11ZH9Y4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-9VH11ZH9Y4');
</script>
<title>AEM Headless: Content Fragments & GraphQL API Guide | WegWorks</title>
<meta name="description" content="Build headless experiences with AEM Content Fragments and GraphQL. Learn content modeling, fragment creation, GraphQL queries, and frontend integration patterns."/>
<meta name="keywords" content="AEM headless, Content Fragments, AEM GraphQL, headless CMS, AEM API, content modeling, React AEM, Next.js AEM, WegWorks"/>
<meta name="author" content="WegWorks"/>
<meta name="robots" content="index, follow"/>
<link rel="canonical" href="https://www.wegworks.com/blog/aem/aem-headless-content-fragments/"/>
<link href="https://raw.githubusercontent.com/mittapalli2/wegworks-site/main/images/blog/logowhite.png" rel="icon" type="image/png"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600;700&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet"/>

<!-- Open Graph -->
<meta property="og:type" content="article"/>
<meta property="og:url" content="https://www.wegworks.com/blog/aem/aem-headless-content-fragments/"/>
<meta property="og:site_name" content="WegWorks"/>
<meta property="og:title" content="AEM Headless: Content Fragments & GraphQL API Guide"/>
<meta property="og:description" content="Build headless experiences with AEM Content Fragments and GraphQL."/>
<meta property="og:image" content="https://raw.githubusercontent.com/mittapalli2/wegworks-site/main/images/blog/graph-aem.png"/>
<meta property="article:published_time" content="2025-12-17"/>

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:site" content="@Wegworks_"/>
<meta name="twitter:image" content="https://raw.githubusercontent.com/mittapalli2/wegworks-site/main/images/blog/graph-aem.png"/>

<!-- Schema.org Article -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "AEM Headless: Content Fragments & GraphQL API Guide",
  "description": "Build headless experiences with AEM Content Fragments, GraphQL APIs, and modern frontend frameworks like React and Next.js.",
  "image": "https://raw.githubusercontent.com/mittapalli2/wegworks-site/main/images/blog/graph-aem.png",
  "author": {"@type": "Organization", "name": "WegWorks", "url": "https://www.wegworks.com"},
  "publisher": {"@type": "Organization", "name": "WegWorks", "logo": {"@type": "ImageObject", "url": "https://raw.githubusercontent.com/mittapalli2/wegworks-site/main/images/blog/logowhite.png"}},
  "datePublished": "2025-12-17",
  "dateModified": "2025-12-17"
}
</script>

<!-- BreadcrumbList -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.wegworks.com/"},
    {"@type": "ListItem", "position": 2, "name": "Blog", "item": "https://www.wegworks.com/blog/"},
    {"@type": "ListItem", "position": 3, "name": "AEM", "item": "https://www.wegworks.com/blog/aem/"},
    {"@type": "ListItem", "position": 4, "name": "AEM Headless Guide", "item": "https://www.wegworks.com/blog/aem/aem-headless-content-fragments/"}
  ]
}
</script>

<!-- FAQ Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is AEM Headless?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "AEM Headless is an approach where AEM serves as a content API rather than rendering pages. Content is stored in Content Fragments and delivered via GraphQL or REST APIs to any frontend—React, Next.js, mobile apps, digital signage, or any channel."
      }
    },
    {
      "@type": "Question",
      "name": "What are Content Fragments in AEM?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Content Fragments are structured content pieces in AEM, independent of presentation. They're based on Content Fragment Models that define the schema (fields, types, validation). Think of them as content building blocks that can be queried via API and rendered by any frontend."
      }
    },
    {
      "@type": "Question",
      "name": "Does AEM support GraphQL?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, AEM provides a native GraphQL API for Content Fragments. The GraphQL schema is automatically generated from your Content Fragment Models. You can query, filter, and paginate content with standard GraphQL syntax."
      }
    }
  ]
}
</script>

<style>
:root {
  --bg-primary: #000000;
  --bg-secondary: #0a0a0a;
  --bg-tertiary: #141414;
  --text-primary: #ffffff;
  --text-secondary: #a1a1aa;
  --text-muted: #71717a;
  --accent-primary: #86bc25;
  --accent-light: #a4d44a;
  --accent-gradient: linear-gradient(135deg, #86bc25 0%, #6a9a1e 100%);
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glow-primary: 0 0 40px rgba(134, 188, 37, 0.25);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { max-width: 100vw; overflow-x: hidden; } body { font-family: 'DM Sans', sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; }
h1, h2, h3 { font-family: 'Syne', sans-serif; font-weight: 700; line-height: 1.3; }
.container { max-width: 800px; margin: 0 auto; padding: 0 24px; }
.container-wide { max-width: 1200px; margin: 0 auto; padding: 0 24px; }

.site-header { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; padding: 20px 0; background: rgba(10, 10, 15, 0.8); backdrop-filter: blur(20px); border-bottom: 1px solid var(--glass-border); }
.nav-wrapper { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 0 24px; }
.brand { display: flex; align-items: center; gap: 6px; text-decoration: none; }
.brand img { height: 42px; width: auto; }
.brand-text { font-family: 'Rajdhani', sans-serif; font-weight: 700; font-size: 1.6rem; color: #ffffff; letter-spacing: 0.08em; text-transform: uppercase; display: flex; flex-direction: column; line-height: 1; }
.brand-text span { font-size: 0.7rem; color: var(--accent-primary); letter-spacing: 0.15em; font-weight: 600; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; margin-top: 2px; }
.nav-links { display: flex; gap: 40px; list-style: none; }
.nav-links > li { position: relative; }
.nav-links a { color: #ffffff; text-decoration: none; font-weight: 600; transition: color 0.3s; }
.nav-links a:hover { color: var(--text-primary); }
.nav-dropdown > a { display: flex; align-items: center; gap: 4px; }
.dropdown-arrow { font-size: 0.7rem; transition: transform 0.3s; }
.nav-dropdown:hover .dropdown-arrow { transform: rotate(180deg); }
.dropdown-menu { position: absolute; top: 100%; left: -16px; min-width: 220px; padding: 12px 0; background: rgba(18, 18, 26, 0.95); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); border-radius: 12px; opacity: 0; visibility: hidden; transform: translateY(10px); transition: all 0.3s; margin-top: 16px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3); z-index: 100; }
.nav-dropdown:hover .dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
.dropdown-menu a { display: block; padding: 10px 20px; color: #ffffff; font-size: 0.9rem; }
.dropdown-menu a:hover { background: rgba(255, 255, 255, 0.05); color: var(--accent-primary); }
.nav-cta { padding: 12px 28px; background: transparent; color: var(--accent-primary); border: 2px solid var(--accent-primary); font-weight: 600; border-radius: 100px; text-decoration: none; }

.article-header { padding: 160px 0 40px; }
.article-hero-image { margin: 0 auto 60px; max-width: 1200px; padding: 0 24px; }
.article-hero-image img { width: 100%; height: 400px; object-fit: cover; object-position: center; border-radius: 16px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4); }
.back-link { display: inline-flex; align-items: center; gap: 8px; padding: 8px 16px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 100px; font-size: 0.875rem; color: #ffffff; margin-bottom: 24px; text-decoration: none; }
.article-meta { display: flex; gap: 16px; margin-bottom: 16px; font-size: 0.875rem; color: #ffffff; }
.article-category { color: var(--accent-primary); font-weight: 600; text-decoration: none; }
.article-header h1 { font-size: clamp(2rem, 5vw, 3rem); margin-bottom: 24px; }
.article-intro { font-size: 1.25rem; color: #ffffff; line-height: 1.7; }

.article-content { padding: 60px 0 100px; }
.article-content h2 { font-size: 1.75rem; margin: 48px 0 20px; }
.article-content h3 { font-size: 1.375rem; margin: 36px 0 16px; }
.article-content p { margin-bottom: 20px; color: #ffffff; line-height: 1.8; }
.article-content ul, .article-content ol { margin: 20px 0 20px 24px; color: #ffffff; }
.article-content li { margin-bottom: 12px; line-height: 1.7; }
.article-content strong { color: var(--text-primary); }
.article-content a { color: var(--accent-primary); text-decoration: none; }

.code-block { background: var(--bg-tertiary); border: 1px solid var(--glass-border); border-radius: 12px; padding: 20px; margin: 24px 0; overflow-x: auto; }
.code-block code { font-family: 'JetBrains Mono', 'Fira Code', monospace; font-size: 0.9rem; color: #ffffff; line-height: 1.7; white-space: pre; }
.code-label { font-size: 0.75rem; color: #ffffff; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 12px; display: block; }

.concept-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin: 32px 0; }
.concept-card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 16px; padding: 28px; }
.concept-card h4 { color: var(--accent-primary); margin-bottom: 12px; font-size: 1.1rem; }
.concept-card p { margin: 0; font-size: 0.95rem; }

.callout { padding: 24px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 12px; margin: 32px 0; }
.callout-title { font-weight: 700; color: var(--accent-primary); margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
.callout p { margin: 0; color: #ffffff; }

.architecture-diagram { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 16px; padding: 32px; margin: 32px 0; text-align: center; }
.architecture-diagram .diagram-row { display: flex; justify-content: center; gap: 24px; margin: 16px 0; flex-wrap: wrap; }
.architecture-diagram .box { padding: 12px 24px; background: var(--bg-tertiary); border: 1px solid var(--glass-border); border-radius: 8px; font-weight: 600; font-size: 0.9rem; }
.architecture-diagram .arrow { color: var(--accent-primary); font-size: 1.5rem; }
.architecture-diagram .highlight { background: var(--accent-gradient); color: var(--bg-primary); border-color: transparent; }

.cta-box { padding: 48px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 24px; text-align: center; margin-top: 60px; }
.cta-box h3 { font-size: 1.5rem; margin-bottom: 16px; }
.cta-box p { color: #ffffff; margin-bottom: 24px; }
.btn { display: inline-flex; align-items: center; gap: 8px; padding: 14px 28px; font-weight: 600; border-radius: 12px; text-decoration: none; }
.btn-primary { background: transparent; color: var(--accent-primary); border: 2px solid var(--accent-primary); }

.keywords-section { margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--glass-border); }
.keywords-section h4 { font-size: 0.875rem; color: #ffffff; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 16px; }
.keyword-tags { display: flex; flex-wrap: wrap; gap: 8px; }
.keyword-tags span { padding: 6px 12px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 100px; font-size: 0.8rem; color: #ffffff; }

.footer { padding: 40px 0; border-top: 1px solid var(--glass-border); text-align: center; }
.footer p { color: #ffffff; }
.footer a { color: var(--accent-primary); text-decoration: none; }

@media (max-width: 900px) {
  .nav-links, .nav-cta { display: none; }
  .mobile-toggle { display: block; }
  .article-header { padding: 120px 0 40px; }
  .architecture-diagram .diagram-row { flex-direction: column; align-items: center; }
}
/* Code Block Styles - IDE Theme */ .code-block { background: #1e1e1e; border-radius: 12px; margin: 24px 0; overflow: hidden; border: 1px solid #333; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); } .code-block::before { content: ""; display: block; background: linear-gradient(90deg, #333 0%, #2d2d2d 100%); padding: 10px 16px; border-bottom: 1px solid #333; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='54' height='14'%3E%3Ccircle cx='6' cy='7' r='5' fill='%23ff5f56'/%3E%3Ccircle cx='26' cy='7' r='5' fill='%23ffbd2e'/%3E%3Ccircle cx='46' cy='7' r='5' fill='%2327ca40'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: 12px center; } .code-block code { display: block; padding: 20px; overflow-x: auto; font-family: "SF Mono", Monaco, Consolas, monospace; font-size: 0.875rem; line-height: 1.7; color: #d4d4d4; white-space: pre; } pre { background: #1e1e1e; border-radius: 12px; padding: 20px; overflow-x: auto; margin: 24px 0; border: 1px solid #333; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); } pre code { font-family: "SF Mono", Monaco, Consolas, monospace; font-size: 0.875rem; line-height: 1.7; color: #d4d4d4; background: none; padding: 0; } code { font-family: "SF Mono", Monaco, Consolas, monospace; background: rgba(255, 255, 255, 0.1); padding: 2px 6px; border-radius: 4px; font-size: 0.875em; color: #e06c75; } table { display: block; overflow-x: auto; max-width: 100%; } img { max-width: 100%; height: auto; } .mobile-toggle { display: none; background: none; border: none; color: var(--text-primary, #fff); font-size: 28px; cursor: pointer; padding: 8px; }
.mobile-menu { display: none; position: fixed; inset: 0; background: var(--bg-primary, #0a0a0f); z-index: 999; padding: 100px 24px 24px; overflow-y: auto; }
.mobile-menu.active { display: flex; flex-direction: column; align-items: center; gap: 20px; }
.mobile-menu a { font-size: 1.2rem; color: var(--text-primary, #fff); text-decoration: none; font-weight: 600; }
.mobile-menu a:hover { color: var(--accent-primary, #ffffff); }
@media (max-width: 768px) { .article-hero-image img { height: 250px; } .nav, .nav-links, .nav-cta { display: none; } .mobile-toggle { display: block; } }
</style>
</head>

<body>
<header class="site-header">
  <nav class="nav-wrapper">
    <a class="brand" href="/"><img src="https://raw.githubusercontent.com/mittapalli2/wegworks-site/main/images/logo-white-green-ww.svg" alt="WegWorks Logo" width="150" height="40"/><div class="brand-text">WegWorks<span>Simplifying Tomorrow</span></div></a>
    <ul class="nav-links">
      <li class="nav-dropdown">
        <a href="/services/">Services <span class="dropdown-arrow">▾</span></a>
        <div class="dropdown-menu">
          <a href="/services/adobe-analytics/">Adobe Analytics</a>
          <a href="/services/segment-cdp/">Segment CDP</a>
          <a href="/services/salesforce/">Salesforce</a>
          <a href="/services/marketing-automation/">Marketing Automation</a>
          <a href="/services/adobe-experience-cloud/">Adobe Experience Cloud</a>
          <a href="/small-business/" style="border-top: 1px solid rgba(255,255,255,0.1); margin-top: 8px; padding-top: 16px;">Small Business Solutions</a>
        </div>
      </li>
      <li class="nav-dropdown">
        <a href="/blog/">Blog <span class="dropdown-arrow">▾</span></a>
        <div class="dropdown-menu">
          <a href="/blog/adobe-analytics/">Adobe Analytics</a>
          <a href="/blog/adobe-experience-platform/">Adobe Experience Platform</a>
          <a href="/blog/adobe-target/">Adobe Target</a>
          <a href="/blog/aem/">AEM</a>
          <a href="/blog/google-analytics-4/">Google Analytics 4</a>
          <a href="/blog/marketing-automation/">Marketing Automation</a>
          <a href="/blog/salesforce/">Salesforce</a>
          <a href="/blog/segment-cdp/">Segment CDP</a>
        </div>
      </li>
      <li><a href="/#about">About</a></li>
      <li><a href="/contact/">Contact</a></li>
    </ul>
    <a class="nav-cta" href="/contact/">Get Started</a>
    <button class="mobile-toggle" aria-label="Toggle menu">☰</button>
  </nav>
</header>

<!-- Mobile Menu -->
<div class="mobile-menu" id="mobile-menu">
  <a href="/">Home</a>
  <a href="/services/">Services</a>
  <a href="/blog/">Blog</a>
  <a href="/blog/adobe-analytics/">→ Adobe Analytics</a>
  <a href="/blog/adobe-experience-platform/">→ Adobe Experience Platform</a>
  <a href="/blog/adobe-target/">→ Adobe Target</a>
  <a href="/blog/aem/">→ AEM</a>
  <a href="/blog/google-analytics-4/">→ Google Analytics 4</a>
  <a href="/blog/segment-cdp/">→ Segment CDP</a>
  <a href="/#about">About</a>
  <a href="/contact/">Contact</a>
</div>

<article>
  <header class="article-header">
    <div class="container">
      <a class="back-link" href="/blog/aem/">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
        AEM
      </a>
      <div class="article-meta">
        <a class="article-category" href="/blog/aem/">AEM</a>
        <span>December 17, 2025</span>
        <span>12 min read</span>
      </div>
      <h1>AEM Headless: Content Fragments & GraphQL API Guide</h1>
      <p class="article-intro">
        Build modern web experiences with AEM as a headless CMS. Learn how Content Fragments, 
        GraphQL APIs, and frontend frameworks work together in a decoupled architecture.
      </p>
    </div>
  </header>

  <div class="article-hero-image">
    <img src="https://raw.githubusercontent.com/mittapalli2/wegworks-site/main/images/blog/graph-aem.png" alt="AEM Headless Content Fragments and GraphQL Guide" loading="eager" width="836" height="522"/>
  </div>

  <div class="article-content">
    <div class="container">

      <h2>What is AEM Headless?</h2>
      <p>
        In traditional AEM, content and presentation are tightly coupled—AEM renders HTML pages 
        using HTL templates. <strong>AEM Headless</strong> decouples these concerns: AEM manages 
        content while external applications handle rendering.
      </p>
      <p>
        With headless, AEM becomes a content API. You query structured content via GraphQL or REST, 
        then render it in React, Next.js, Vue, mobile apps, digital signage—any channel that can 
        consume an API.
      </p>

      <div class="architecture-diagram">
        <div class="diagram-row">
          <div class="box highlight">AEM (Content)</div>
        </div>
        <div class="arrow">↓ GraphQL API</div>
        <div class="diagram-row">
          <div class="box">React App</div>
          <div class="box">Next.js</div>
          <div class="box">Mobile App</div>
          <div class="box">Digital Signage</div>
        </div>
      </div>

      <h2>Core Concepts</h2>

      <div class="concept-grid">
        <div class="concept-card">
          <h4>Content Fragment Models</h4>
          <p>Schema definitions that specify what fields a content type has—text, numbers, dates, references, JSON, etc. Think of them as content blueprints.</p>
        </div>
        <div class="concept-card">
          <h4>Content Fragments</h4>
          <p>Instances of Content Fragment Models. Structured content pieces that authors create and edit. They're channel-agnostic and API-ready.</p>
        </div>
        <div class="concept-card">
          <h4>GraphQL API</h4>
          <p>AEM automatically generates a GraphQL schema from your Content Fragment Models. Query exactly the fields you need with standard GraphQL syntax.</p>
        </div>
        <div class="concept-card">
          <h4>Persisted Queries</h4>
          <p>Pre-saved GraphQL queries stored in AEM. They're cached at the CDN level and execute faster than ad-hoc queries.</p>
        </div>
      </div>

      <h2>Content Fragment Models</h2>
      <p>
        A Content Fragment Model defines the structure of your content. Here's an example model for 
        a blog article:
      </p>
      <ul>
        <li><strong>Title</strong> (Single-line text, required)</li>
        <li><strong>Slug</strong> (Single-line text, required)</li>
        <li><strong>Author</strong> (Fragment reference → Author model)</li>
        <li><strong>Publish Date</strong> (Date and time)</li>
        <li><strong>Hero Image</strong> (Content reference → DAM asset)</li>
        <li><strong>Body</strong> (Multi-line text, Rich text enabled)</li>
        <li><strong>Tags</strong> (Enumeration, multi-value)</li>
        <li><strong>Related Articles</strong> (Fragment references, multi-value)</li>
      </ul>
      <p>
        Models are created in AEM's Tools console. Each model generates a corresponding GraphQL type.
      </p>

      <div class="callout">
        <div class="callout-title">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18h6"/><path d="M10 22h4"/><path d="M12 2v1"/><path d="M12 8a4 4 0 0 0-4 4c0 1.5.8 2.8 2 3.4V17h4v-1.6c1.2-.6 2-1.9 2-3.4a4 4 0 0 0-4-4Z"/></svg>
          Best Practice
        </div>
        <p>
          Design models for reusability. Instead of putting author info directly on Article, create 
          a separate Author model and reference it. This allows the same author to be linked across 
          multiple articles.
        </p>
      </div>

      <h2>Creating Content Fragments</h2>
      <p>
        Authors create Content Fragments in the Assets console (or Experience Fragments console in 
        newer versions). The editing experience is form-based, following the model's field definitions.
      </p>
      <p>
        Content Fragments support:
      </p>
      <ul>
        <li><strong>Variations</strong> — Multiple versions of content (e.g., short, long, regional)</li>
        <li><strong>Metadata</strong> — Tags, descriptions, and custom properties</li>
        <li><strong>Versioning</strong> — Full version history with compare and restore</li>
        <li><strong>Workflows</strong> — Approval processes before publishing</li>
      </ul>

      <h2>Querying with GraphQL</h2>
      <p>
        AEM's GraphQL endpoint automatically exposes your Content Fragment Models. Here's a sample query:
      </p>

      <div class="code-block">
        <span class="code-label">GraphQL Query</span>
        <code>{
  articleList(
    filter: { slug: { _expressions: [{ value: "getting-started-aem" }] } }
  ) {
    items {
      title
      publishDate
      heroImage {
        ... on ImageRef {
          _path
          _dynamicUrl
        }
      }
      author {
        name
        bio
        avatar {
          ... on ImageRef {
            _path
          }
        }
      }
      body {
        html
      }
      tags
    }
  }
}</code>
      </div>

      <h3>GraphQL Endpoints</h3>
      <p>
        AEM provides GraphQL endpoints per configuration folder:
      </p>
      <ul>
        <li><strong>Endpoint URL</strong>: <code>/content/cq:graphql/[config]/endpoint.json</code></li>
        <li><strong>GraphiQL IDE</strong>: <code>/content/cq:graphql/[config]/explorer.html</code></li>
      </ul>
      <p>
        The GraphiQL IDE is invaluable for exploring your schema, testing queries, and viewing documentation.
      </p>

      <h3>Filtering & Pagination</h3>
      <p>
        GraphQL supports powerful filtering:
      </p>

      <div class="code-block">
        <span class="code-label">Filtered Query with Pagination</span>
        <code>{
  articleList(
    filter: {
      tags: { _expressions: [{ values: ["tech", "cloud"], _operator: CONTAINS }] }
      publishDate: { _expressions: [{ value: "2025-01-01", _operator: GREATER }] }
    }
    _locale: "en"
    sort: "publishDate DESC"
    offset: 0
    limit: 10
  ) {
    items {
      title
      slug
      publishDate
    }
  }
}</code>
      </div>

      <h2>Persisted Queries</h2>
      <p>
        For production, use <strong>persisted queries</strong> instead of sending raw GraphQL:
      </p>
      <ul>
        <li>Queries are stored in AEM and given a path (e.g., <code>/my-project/articles</code>)</li>
        <li>CDN caches responses at the edge</li>
        <li>Clients call the path, not the full query</li>
        <li>Better security—no arbitrary queries from clients</li>
      </ul>

      <div class="code-block">
        <span class="code-label">Calling a Persisted Query</span>
        <code>// Instead of:
fetch('/content/cq:graphql/mysite/endpoint.json', {
  method: 'POST',
  body: JSON.stringify({ query: '...' })
})

// Use:
fetch('/graphql/execute.json/mysite/articles;slug=getting-started')</code>
      </div>

      <h2>Frontend Integration</h2>

      <h3>React / Next.js</h3>
      <p>
        Adobe provides the <strong>AEM Headless Client</strong> library for JavaScript frameworks:
      </p>

      <div class="code-block">
        <span class="code-label">React with AEM Headless Client</span>
        <code>import { AEMHeadless } from '@adobe/aem-headless-client-js';

const aemHeadless = new AEMHeadless({
  serviceURL: 'https://publish-xxx-yyy.adobeaemcloud.com',
  endpoint: '/content/cq:graphql/mysite/endpoint.json'
});

async function getArticle(slug) {
  const response = await aemHeadless.runPersistedQuery(
    'mysite/article-by-slug',
    { slug }
  );
  return response.data.articleList.items[0];
}

// In your component
function Article({ slug }) {
  const [article, setArticle] = useState(null);
  
  useEffect(() => {
    getArticle(slug).then(setArticle);
  }, [slug]);
  
  if (!article) return &lt;Loading /&gt;;
  
  return (
    &lt;article&gt;
      &lt;h1&gt;{article.title}&lt;/h1&gt;
      &lt;div dangerouslySetInnerHTML={{ __html: article.body.html }} /&gt;
    &lt;/article&gt;
  );
}</code>
      </div>

      <h3>Handling Rich Text</h3>
      <p>
        Multi-line text fields can return content as:
      </p>
      <ul>
        <li><strong>plaintext</strong> — Raw text without formatting</li>
        <li><strong>html</strong> — Rendered HTML</li>
        <li><strong>markdown</strong> — Markdown format</li>
        <li><strong>json</strong> — Structured JSON (for custom rendering)</li>
      </ul>
      <p>
        For React, you'll typically use <code>html</code> with <code>dangerouslySetInnerHTML</code> 
        or <code>json</code> for more control.
      </p>

      <h2>Use Cases for AEM Headless</h2>
      <ul>
        <li><strong>Single Page Applications (SPAs)</strong> — React/Vue apps that need CMS content</li>
        <li><strong>Static Site Generation</strong> — Next.js, Gatsby pulling content at build time</li>
        <li><strong>Mobile Apps</strong> — iOS/Android apps consuming content API</li>
        <li><strong>Multi-channel Publishing</strong> — Same content across web, app, kiosk</li>
        <li><strong>Hybrid Architecture</strong> — Some pages traditional AEM, some headless</li>
      </ul>

      <h2>When NOT to Use Headless</h2>
      <p>
        Headless isn't always the answer:
      </p>
      <ul>
        <li><strong>Simple marketing sites</strong> — Traditional AEM Sites may be faster to build</li>
        <li><strong>Heavy personalization</strong> — AEM's targeting works best with server-rendered pages</li>
        <li><strong>In-context editing</strong> — Authors lose visual editing in pure headless</li>
        <li><strong>Existing AEM Sites investment</strong> — Don't rebuild if traditional approach works</li>
      </ul>

      <div class="callout">
        <div class="callout-title">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18h6"/><path d="M10 22h4"/><path d="M12 2v1"/><path d="M12 8a4 4 0 0 0-4 4c0 1.5.8 2.8 2 3.4V17h4v-1.6c1.2-.6 2-1.9 2-3.4a4 4 0 0 0-4-4Z"/></svg>
          Consider Hybrid
        </div>
        <p>
          Many organizations use a hybrid approach: traditional AEM Sites for marketing pages 
          (with in-context editing) and headless Content Fragments for structured content like 
          product data, FAQs, or article content that feeds multiple channels.
        </p>
      </div>

      <h2>Getting Started</h2>
      <ol>
        <li><strong>Enable GraphQL</strong> — Ensure GraphQL endpoint is configured</li>
        <li><strong>Create a Content Fragment Model</strong> — Start simple (title, body, image)</li>
        <li><strong>Create Content Fragments</strong> — Add sample content</li>
        <li><strong>Test in GraphiQL</strong> — Query your content, explore the schema</li>
        <li><strong>Build Frontend</strong> — Start with a simple React component</li>
        <li><strong>Create Persisted Queries</strong> — Move queries to AEM for production</li>
      </ol>

      <!-- Keywords Section -->
      <div class="keywords-section">
        <h4>Related Topics</h4>
        <div class="keyword-tags">
          <span>AEM headless</span>
          <span>Content Fragments</span>
          <span>AEM GraphQL</span>
          <span>headless CMS</span>
          <span>AEM API</span>
          <span>content modeling</span>
          <span>React AEM</span>
          <span>Next.js AEM</span>
          <span>persisted queries</span>
          <span>Content Fragment Models</span>
          <span>decoupled architecture</span>
          <span>WegWorks headless</span>
          <span>Weg Works</span>
          <span>AEM SPA</span>
          <span>omnichannel content</span>
        </div>
      </div>

      <div class="cta-box">
        <h3>Need Help with AEM Headless?</h3>
        <p>Our team at WegWorks (Weg Works) has built headless AEM solutions for enterprise clients. Let us help architect your decoupled content strategy.</p>
        <a class="btn btn-primary" href="/services/adobe-experience-cloud/">
          View Our AEM Services
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </a>
      </div>
    </div>
  </div>
</article>

<footer class="footer">
  <div class="container-wide">
    <p>&copy; 2025 <a href="/">WegWorks</a>. All rights reserved.</p>
  </div>
</footer>

<script>
const mobileToggle = document.querySelector(".mobile-toggle");
const mobileMenu = document.getElementById("mobile-menu");
if (mobileToggle && mobileMenu) {
  mobileToggle.addEventListener("click", () => {
    mobileMenu.classList.toggle("active");
    mobileToggle.textContent = mobileMenu.classList.contains("active") ? "✕" : "☰";
  });
  mobileMenu.querySelectorAll("a").forEach(link => {
    link.addEventListener("click", () => {
      mobileMenu.classList.remove("active");
      mobileToggle.textContent = "☰";
    });
  });
}
</script>
</body>
</html>

